<mat-toolbar [style]="getToolbarStyle()" class="app-toolbar">
  <!-- Menu Button -->
  <button mat-icon-button (click)="toggleMenu()" class="menu-button">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- Logo -->
  <div class="logo-container">
    <img
      [src]="isMenuOpen ? getLogoToolbarMin() : getLogoToolbar()"
      [alt]="getCompanyName()"
      class="logo"
    />
  </div>

  <!-- Spacer -->
  <span class="spacer"></span>

  <!-- Company Selector -->
  <mat-select
    [(value)]="selectedCompany"
    (selectionChange)="onCompanyChange()"
    class="company-selector"
    [style.color]="themeConfig?.corTextoMenuBar"
    style="width: 294px; border: 1px solid #0000002e; padding: 5px; border-radius: 5px;"
  >
    <mat-option *ngFor="let company of companies" [value]="company">
      {{ company.name_fant }}
    </mat-option>
  </mat-select>

  <!-- User Menu -->
  <div class="user-section">
    <span class="user-name">{{ getUserName() }}</span>

    <button mat-icon-button [matMenuTriggerFor]="userMenu" class="user-button">
      <mat-icon>account_circle</mat-icon>
    </button>

    <mat-menu #userMenu="matMenu" class="user-menu">
      <button mat-menu-item (click)="goToProfile()">
        <mat-icon>person</mat-icon>
        <span>Perfil</span>
      </button>
      <button mat-menu-item (click)="changePassword()">
        <mat-icon>lock</mat-icon>
        <span>Trocar senha</span>
      </button>
      <mat-divider></mat-divider>
      <button mat-menu-item (click)="logout()">
        <mat-icon>exit_to_app</mat-icon>
        <span>Logout</span>
      </button>
    </mat-menu>
  </div>
</mat-toolbar>
